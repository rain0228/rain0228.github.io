(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)r=o[d],s[r]&&h.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"04fe":function(t,e,i){},"0c8b":function(t,e,i){"use strict";var n=i("22d1"),s=i.n(n);s.a},"22d1":function(t,e,i){},"34ac":function(t,e,i){},"40cd":function(t,e,i){},"41be":function(t,e,i){"use strict";var n=i("04fe"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"books",function(){return G}),i.d(n,"chapter",function(){return K}),i.d(n,"detail",function(){return Q});i("a481"),i("456d"),i("ac6a"),i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],o=(i("034f"),i("2877")),c={},u=Object(o["a"])(c,a,r,!1,null,null,null),l=u.exports,d=i("8c4f"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("s-header",{attrs:{title:"小说列表"}}),i("s-main",[i("div",{staticClass:"s-items"},t._l(t.list,function(e,n){return i("div",{key:n,staticClass:"s-item",on:{click:function(i){return t.gotoList(e.bid,e.title)}}},[i("div",{staticClass:"s-bd-r"},[i("p",{staticClass:"s-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"s-author"},[t._v(t._s(e.author))]),e.update?i("p",{staticClass:"s-update"},[t._v("更新："+t._s(e.update))]):t._e(),e.chapter?i("p",{staticClass:"s-chapter"},[t._v("最新："+t._s(e.chapter))]):t._e()])])}),0)])],1)},p=[],f={name:"Index",data:function(){return{list:[]}},mounted:function(){document.title="小说列表",this.getList()},methods:{gotoList:function(t,e){this.$router.push({path:"/list",query:{id:t,title:e}})},getList:function(){var t=this;this.$api.books().then(function(e){0===e.code&&(t.list=e.data)})}}},m=f,v=(i("0c8b"),Object(o["a"])(m,h,p,!1,null,"3197ad54",null)),b=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("s-header",{attrs:{title:t.title,path:"/",isSort:"",sort:t.sort},on:{"update:sort":function(e){t.sort=e}}}),i("s-main",t._l(t.list,function(e,n){return i("div",{key:n,staticClass:"s-items"},[i("div",{staticClass:"s-item",on:{click:function(i){return t.gotoDetail(e.pid)}}},[i("span",{staticClass:"s-name"},[t._v(t._s(e.name))])])])}),0)],1)},w=[],_=(i("55dd"),{name:"List",data:function(){return{id:this.$route.query.id,title:this.$route.query.title||"章节列表",list:[],sort:"desc"}},watch:{sort:{handler:function(t){return this.getList(),t},deep:!0}},mounted:function(){document.title=this.title,this.getList()},methods:{gotoDetail:function(t){this.$router.push({path:"/detail",query:{bid:this.id,pid:t}})},getList:function(){var t=this,e={bid:this.id,sort:this.sort};this.$api.chapter(e).then(function(e){0===e.code&&(t.list=e.data,1===e.data[0].id?localStorage.setItem("minPid",e.data[0].pid):localStorage.setItem("maxPid",e.data[0].pid))})}}}),y=_,x=(i("41be"),Object(o["a"])(y,g,w,!1,null,"08da5150",null)),$=x.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("s-header",{attrs:{title:t.title,path:"/list?id="+t.bid}}),i("s-main",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.content,expression:"content"}],staticClass:"s-detail",domProps:{innerHTML:t._s(t.content)},on:{click:t.setting}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"s-setting"},[i("span",{on:{click:t.prev}},[t._v("上一章")]),i("span",{on:{click:t.gotoList}},[t._v("目录")]),i("span",{on:{click:t.next}},[t._v("下一章")])])],1)},C=[],j=(i("c5f6"),i("7f7f"),{name:"Detail",data:function(){return{bid:this.$route.query.bid,id:this.$route.query.pid,content:"",show:!1,title:""}},mounted:function(){this.getDetail(this.id)},methods:{getDetail:function(t){var e=this,i={bid:this.bid,pid:t};this.$api.detail(i).then(function(t){0===t.code&&(document.title=t.data.name,e.title=t.data.name,e.content=t.data.content.replace(/\s+/g,"<p>"))})},setting:function(){this.show=!this.show},gotoList:function(){this.$router.replace({path:"/list",query:{id:this.bid}})},prev:function(){var t=localStorage.getItem("minPid");Number(this.id)<=Number(t)||(this.id=Number(this.id)-1,this.getDetail(this.id),window.scrollTo(0,0),this.$router.replace({path:"/detail",query:{bid:this.bid,pid:this.id}}))},next:function(){var t=localStorage.getItem("maxPid");Number(this.id)>=Number(t)||(this.id=Number(this.id)+1,this.getDetail(this.id),window.scrollTo(0,0),this.$router.replace({path:"/detail",query:{bid:this.bid,pid:this.id}}))}}}),O=j,S=(i("ed22"),Object(o["a"])(O,k,C,!1,null,"7b92c4ac",null)),L=S.exports;s["a"].use(d["a"]);var P=new d["a"]({mode:"history",routes:[{path:"/",name:"Index",component:b},{path:"/list",name:"List",component:$},{path:"/detail",name:"Detail",component:L}]}),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"s-header"},[i("i",{directives:[{name:"show",rawName:"v-show",value:""!==t.path,expression:"path !== ''"}],staticClass:"s-icon s-left",on:{click:t.back}}),i("span",{staticClass:"s-header__title"},[t._v(t._s(t.title))]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isSort,expression:"isSort"}],staticClass:"s-icon s-sort",on:{click:t.sort}})])},q=[],D={name:"Header",props:{title:{type:String,default:""},path:{type:String,default:""},isSort:{type:Boolean,default:!1}},data:function(){return{status:!0,isWeixin:window.isWeixin}},methods:{back:function(){this.$router.replace(this.path)},sort:function(){this.status=!this.status,this.$emit("update:sort",this.status?"desc":"asc")}}},E=D,M=(i("d487"),Object(o["a"])(E,N,q,!1,null,"e333a4fe",null)),T=M.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"s-body"},[t._t("default")],2)},W=[],H={name:"Main",data:function(){return{isWeixin:window.isWeixin}}},J=H,U=(i("5e4e"),Object(o["a"])(J,I,W,!1,null,"0fe00e8a",null)),B=U.exports,R={Header:T,Main:B},z=i("bc3a"),A=i.n(z);A.a.defaults.baseURL="https://novel.syc.im/v1/",A.a.defaults.headers.post["Content-Type"]="application/json",A.a.defaults.timeout=1e4;var F={get:function(t,e){return new Promise(function(i,n){A()({method:"get",url:t,params:e}).then(function(t){i(t.data)}).catch(function(t){n(t)})})},post:function(t,e){return new Promise(function(i,n){A()({method:"post",url:t,data:e}).then(function(t){i(t.data)}).catch(function(t){n(t)})})}},G=function(t){return F.get("book/list",t)},K=function(t){return F.get("book/chapter/list",t)},Q=function(t){return F.get("book/detail",t)};s["a"].config.productionTip=!1,Object.keys(R).forEach(function(t){var e=t.replace(/(\w)/,function(t){return t.toUpperCase()});s["a"].component("s".concat(e),R[t])}),s["a"].prototype.$api=n,new s["a"]({router:P,render:function(t){return t(l)}}).$mount("#app")},"5e4e":function(t,e,i){"use strict";var n=i("40cd"),s=i.n(n);s.a},"64a9":function(t,e,i){},ae76:function(t,e,i){},d487:function(t,e,i){"use strict";var n=i("ae76"),s=i.n(n);s.a},ed22:function(t,e,i){"use strict";var n=i("34ac"),s=i.n(n);s.a}});
//# sourceMappingURL=app.f0341fe9.js.map